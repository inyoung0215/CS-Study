# HTTP vs HTTPS(HTTPSμ λ™μ‘ λ°©μ‹)
[velog λ§ν¬](https://velog.io/@meong/HTTP%EC%99%80-HTTPS)

# π”“ HTTP
## κ°λ…
`Hypertext`: μ°Έμ΅°λ¥Ό ν†µν•΄ ν• λ¬Έμ„μ—μ„ λ‹¤λ¥Έ λ¬Έμ„λ΅ μ¦‰μ‹ μ ‘κ·Όν•  μ μλ” ν…μ¤νΈ(μ¦‰, λ‹¤λ¥Έ νμ΄μ§€μ λ§ν¬λ¥Ό λ‹΄κ³  μλ” ν…μ¤νΈ)

`Transfer`: μ „μ†΅

`Protocol`: ν†µμ‹  κ·μ•½

httpλ” μΈν„°λ„· μƒμ—μ„ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μμ›μ„ μ£Όκ³  λ°›μ„ λ• μ“°λ” ν†µμ‹  κ·μ•½μ΄λ‹¤.

## νΉμ§•
- μ£Όλ΅ HTML λ¬Έμ„λ¥Ό μ£Όκ³ λ°›λ” λ°μ— μ“°μΈλ‹¤.
- λΉ„μ—°κ²°μ„±(Connectionless): ν•λ² μ—°κ²°μ„ λ§Ίμ€ ν›„μ— ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ— λ€ν•΄ μ„λ²„κ°€ μ‘λ‹µμ„ λ§μΉλ©΄ μ—°κ²°μ„ λμ–΄λ²„λ¦°λ‹¤.
- λ¬΄μƒνƒ ν”„λ΅ν† μ½(Stateless protocol): μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μƒνƒλ¥Ό μ μ§€ν•μ§€ μ•μ•„ μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈλ¥Ό μ‹λ³„ν•μ§€ λ»ν•λ‹¤.

## httpμ λ¬Έμ μ 
- μ•”νΈν™” μ—†μ΄ ν‰λ¬ΈμΌλ΅ μ „μ†΅ν•κΈ° λ•λ¬Έμ— λ„μ²­μ΄ κ°€λ¥ν•λ‹¤
- ν†µμ‹  μƒλ€λ¥Ό ν™•μΈν•μ§€ μ•κΈ° λ•λ¬Έμ— μ„μ¥μ΄ κ°€λ¥ν•λ‹¤
- λ°μ΄ν„°μ λ¬΄κ²°μ„±μ„ λ³΄μ¥ν•μ§€ μ•κΈ° λ•λ¬Έμ— λ³€μ΅°κ°€ κ°€λ¥ν•λ‹¤

# π” HTTPS
## κ°λ…
`HTTP`: Hypertext ν†µμ‹  κ·μ•½

`over Secure Socket Layer | over TLS | over SSL | HTTP Secure`: λ³΄μ•μ„ ν†µν•

![](https://velog.velcdn.com/images/meong/post/436241cd-9bc7-43f0-a477-f19d136e6f7c/image.png)

μ†μΌ“ ν†µμ‹ μ—μ„ SSL/TLS ν”„λ΅ν† μ½μ„ μ‚¬μ©ν•μ—¬ μ„λ²„ μΈμ¦κ³Ό λ°μ΄ν„° μ•”νΈν™”λ¥Ό ν†µν•΄ λ” μ•μ „ν•κ² μ‚¬μ© κ°€λ¥ν• ν”„λ΅ν† μ½μ΄λΌκ³  ν•  μ μλ‹¤

# π›΅οΈ SSL/TLS ν”„λ΅ν† μ½
## κ°λ…
SSL (Secure Sockets Layer)κ³Ό TLS (Transport Layer Security)μ€ λ„¤νΈμ›ν¬ ν†µμ‹ μ—μ„ λ°μ΄ν„°μ λ³΄μ• λ° κΈ°λ°€μ„±μ„ μ κ³µν•κΈ° μ„ν• ν”„λ΅ν† μ½μ΄λ‹¤.

λ„¤μ¤μΌ€μ΄ν”„μ— μν•΄μ„ SSLμ΄ λ°λ…λμ—κ³ , μ΄κ²ƒμ΄ μ μ°¨ ν­λ„“κ² μ‚¬μ©λλ‹¤κ°€ ν‘μ¤€ν™” κΈ°κµ¬μΈ IETFμ κ΄€λ¦¬λ΅ λ³€κ²½λλ©΄μ„ TLSλΌλ” μ΄λ¦„μΌλ΅ λ°”λ€μ—λ‹¤(TLS 1.0μ€ SSL 3.0μ„ κ³„μΉν•λ‹¤). μΌλ°μ μΌλ΅λ” κµ¬λ¶„μ—†μ΄ SSLμ΄λΌ λ§ν•λ‹¤.

## νΉμ§•
- CA(Certificate Authority,λ””μ§€ν„Έ μΈμ¦μ„λ¥Ό μ κ³µν•λ” κ³µμΈλ κΈ°μ—…)λ¥Ό ν†µν• μΈμ¦μ„ λ°©μ‹
- λ€μΉ­ ν‚¤, κ³µκ° ν‚¤(λΉ„λ€μΉ­ν‚¤) μ•”νΈν™” λ°©μ‹μ„ λ¨λ‘ μ‚¬μ©

# π”‘ SSLμ—μ„ μ‚¬μ©ν•λ” κΈ°μ λ“¤
## 1. λ€μΉ­ ν‚¤ μ•”νΈν™” λ°©μ‹
- ν•λ‚μ ν‚¤λ΅ μ•”νΈν™”μ™€ λ³µνΈν™”λ¥Ό λ¨λ‘ μν–‰ν•λ” λ°©μ‹
- ν‚¤ μ „λ‹¬, κ΄€λ¦¬μ— μ–΄λ ¤μ›€μ΄ μλ‹¤.
- λ””μ§€ν„Έ μ„λ… κΈ°λ²• μ μ© λ¶κ°€
  <br></br>
 ![](https://velog.velcdn.com/images/meong/post/749211d0-78c1-4ca7-b797-833d688420fd/image.png)
  <br></br>
## 2. κ³µκ° ν‚¤ μ•”νΈν™” λ°©μ‹
- μ•”νΈν™”μ— μ“°μ΄λ” ν‚¤ κ°’κ³Ό λ³µνΈν™”μ— μ“°μ΄λ” ν‚¤ κ°’μ΄ λ‹¤λ¥Έ λ°©μ‹
- κ°μΈν‚¤λ΅ μ•”νΈν™” ν• μ •λ³΄λ” κ·Έ μμ΄ λλ” κ³µκ°ν‚¤λ΅λ§ λ³µνΈν™”κ°€ κ°€λ¥ν•κ³ , κ³µκ°ν‚¤λ΅ μ•”νΈν™”ν• μ •λ³΄λ” κ·Έ μμ΄ λλ” κ°μΈν‚¤λ΅λ§ λ³µνΈν™”κ°€ κ°€λ¥
- κ³µκ°ν‚¤κ°€ μ μ¶λλ‹¤κ³ ν•΄λ„ λΉ„κ³µκ°ν‚¤λ¥Ό λ¨λ¥΄λ©΄ μ •λ³΄λ¥Ό λ³µνΈν™” ν•  μ μ—†κΈ° λ•λ¬Έμ— μ•μ „ν•¨
  <br></br>
  ![](https://velog.velcdn.com/images/meong/post/ab04785f-156c-4b5b-a399-df3082bf1b20/image.png)
  <br></br>
  **μ•”νΈν™” κ³Όμ •**
    1. μ•”νΈν•™μ μΌλ΅ μ—°κ΄€λ λ‘κ°μ ν‚¤λ¥Ό μƒμ„±ν•λ‹¤
    2. ν•λ‚λ¥Ό λΉ„κ³µκ°ν‚¤(private key, κ°μΈν‚¤, λΉ„λ°€ν‚¤)λ΅ μ§€μ •ν•μ—¬ μμ‹ λ§ κ°€μ§€κ³ , λ‚λ¨Έμ§€λ¥Ό κ³µκ°ν‚¤(public key)λ΅ μ§€μ •ν•μ—¬ νƒ€μΈμ—κ² μ κ³µν•λ‹¤
    3. νƒ€μΈμ€ κ³µκ°ν‚¤λ¥Ό μ΄μ©ν•΄μ„ μ •λ³΄λ¥Ό μ•”νΈν™”ν•κ³  λΉ„κ³µκ°ν‚¤λ¥Ό κ°€μ§€κ³  μλ” μ‚¬λμ—κ² μ „μ†΅ν•λ‹¤.
    4. λΉ„κ³µκ°ν‚¤μ μ†μ μλ” μ΄ ν‚¤λ¥Ό μ΄μ©ν•΄μ„ μ•”νΈν™”λ μ •λ³΄λ¥Ό λ³µνΈν™”ν•λ‹¤.

  ### 1) λ°μ΄ν„° μ „μ†΅ λ¨λ“
  [κ³µκ°ν‚¤λ΅ μ•”νΈν™”] -> [κ°μΈν‚¤λ΅ λ³µνΈν™”]
  <br></br>
  κ³µκ°ν‚¤λ΅ μ•”νΈν™”ν• μ •λ³΄λ” κ·Έ μμ΄ λλ” κ°μΈν‚¤λ΅λ§ λ³µνΈν™”κ°€ κ°€λ¥.
  <br></br>
  μΈκ°€ν•  μ‚¬μ©μμ κ³µκ°ν‚¤λ΅ μ•”νΈν™” ν•μ—¬ λ°μ΄ν„°λ¥Ό μ „μ†΅ -> μΈκ°€λ μ‚¬μ©μλ§ λ³Ό μ μμ
  <br></br>
  ![](https://velog.velcdn.com/images/meong/post/fbc598b7-90d3-4e40-b7fc-ed42d596cf5a/image.png)

  ### 2) μΈμ¦ λ¨λ“
  [κ°μΈν‚¤λ΅ μ•”νΈν™”] -> [κ³µκ°ν‚¤λ΅ λ³µνΈν™”]
  <br></br>
  κ°μΈν‚¤λ΅ μ•”νΈν™” ν• μ •λ³΄λ” κ·Έ μμ΄ λλ” κ³µκ°ν‚¤λ΅λ§ λ³µνΈν™”κ°€ κ°€λ¥.
  <br></br>
  μ„μμ μ•”νΈλ¬Έμ΄ Aμ μ•”νΈλ¬ΈμΈμ§€ ν™•μΈν•λ ¤λ©΄ Aμ κ³µκ°ν‚¤λ΅ λ³µνΈν™”κ°€ κ°€λ¥ν•μ§€ ν™•μΈ ν•λ©΄ λ¨
  <br></br>
  ![](https://velog.velcdn.com/images/meong/post/48858154-115e-49a0-99a1-dd882bc80135/image.png)
  
## 3. CAμ™€ μΈμ¦μ„
### CA(Certificate authority)
:μ„λ²„μ— μΈμ¦μ„λ¥Ό λ°κΈ‰ν•΄μ£Όλ” κ³µμΈλ κΈ°κ΄€λ“¤

SSLμ„ ν†µν•΄μ„ μ•”νΈν™”λ ν†µμ‹ μ„ μ κ³µν•λ ¤λ” μ„λΉ„μ¤λ” CAλ¥Ό ν†µν•΄μ„ μΈμ¦μ„λ¥Ό κµ¬μ…ν•΄μ•Ό ν•λ‹¤.

### SSL μΈμ¦μ„μ μ—­ν• 
1. ν΄λΌμ΄μ–ΈνΈκ°€ μ ‘μ†ν• μ„λ²„κ°€ μ‹ λΆ° ν•  μ μλ” μ„λ²„μ„μ„ λ³΄μ¥ν•λ‹¤.
    - μ„λΉ„μ¤μ μ •λ³΄(μΈμ¦μ„λ¥Ό λ°κΈ‰ν• CA, μ„λΉ„μ¤μ λ„λ©”μΈ λ“±λ“±)λ¥Ό κ°€μ§
2. SSL ν†µμ‹ μ— μ‚¬μ©ν•  κ³µκ°ν‚¤λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² μ κ³µν•λ‹¤.
    - μ„λ²„ μΈ΅ κ³µκ°ν‚¤(κ³µκ°ν‚¤μ λ‚΄μ©, κ³µκ°ν‚¤μ μ•”νΈν™” λ°©λ²•)λ¥Ό κ°€μ§

### μΈμ¦μ„ λ°κΈ‰ κ³Όμ •κ³Ό ν™μ©
1. μΈμ¦μ„λ¥Ό λ°›κΈ° μ„ν•΄ CAλ΅ μ„λ²„μ μ •λ³΄μ™€ μ„λ²„μ κ³µκ° ν‚¤λ¥Ό μ „λ‹¬
2. CAμ λΉ„λ°€ ν‚¤λ΅ μ•”νΈν™”ν•μ—¬ μΈμ¦μ„λ¥Ό λ°κΈ‰
3. μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ—κ² μ”μ²­μ„ λ°›μΌλ©΄, μΈμ¦μ„λ¥Ό λ³΄λ‚΄μ¤
4. λΈλΌμ°μ €(ν΄λΌμ΄μ–ΈνΈ)λ” CA λ¦¬μ¤νΈμ™€ CAμ κ³µκ° ν‚¤λ¥Ό λ‚΄μ¥ν•κ³  μκΈ° λ•λ¬Έμ—, μΈμ¦μ„λ¥Ό λ³µνΈν™”ν•μ—¬ μ„λ²„μ μ •λ³΄μ™€ μ„λ²„μ κ³µκ° ν‚¤λ¥Ό μ–»μ„ μ μμ (+ ν•΄λ‹Ή μ„λ²„κ°€ μ‹ λΆ°ν•  μ μλ” μ„λ²„μ„μ„ μ•κ² λ¨)

 ![](https://velog.velcdn.com/images/meong/post/4d576786-52d7-403a-8902-f1c719a28016/image.png)

# π© SSL λ™μ‘ κ³Όμ •
> **λ™μ‘μ ν•µμ‹¬** <br></br>
> μ‹¤μ  λ°μ΄ν„°: λ€μΉ­ν‚¤ λ°©μ‹μΌλ΅ μ•”νΈν™” <br></br>
> ν•΄λ‹Ή λ€μΉ­ν‚¤μ μ „λ‹¬: κ³µκ°ν‚¤ λ°©μ‹μΌλ΅ μ•”νΈν™”ν•΄μ„ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ£Όκ³  λ°›λ”λ‹¤.

μ»΄ν“¨ν„°μ™€ μ»΄ν“¨ν„°κ°€ λ„¤νΈμ›ν¬λ¥Ό ν†µν•΄μ„ ν†µμ‹ μ„ ν• λ• `ν•Έλ“μ‰μ΄ν¬ -> μ„Έμ… -> μ„Έμ…μΆ…λ£` μ κ³Όμ •μ„ κ±°μΉλ‹¤.
μ•”νΈν™”λ HTTP λ©”μ‹μ§€λ¥Ό κµν™ν•κΈ° μ „μ— ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ” `SSL ν•Έλ“μ‰μ΄ν¬`λ¥Ό μ§„ν–‰ν•λ‹¤.

## SSL ν•Έλ“μ‰μ΄ν¬ κ³Όμ •
![](https://velog.velcdn.com/images/meong/post/68364330-4cff-488e-897d-bcc0fcaeee4c/image.png)

### 1λ‹¨κ³„: Client Hello
ν΄λΌμ΄μ–Έν¬κ°€ μ„λ²„μ—κ² μΈμ‚¬!
λλ¤ν• λ°μ΄ν„°("hi")μ™€ μ§€μ› κ°€λ¥ν• μ•”νΈν™” λ°©μ‹, μ„Έμ… μ•„μ΄λ””λ¥Ό μ „λ‹¬

*μ„Έμ… μ•„μ΄λ”” : μ΄λ―Έ SSL ν•Έλ“μ‰μ΄ν‚Ήμ„ ν–λ‹¤λ©΄ λΉ„μ©κ³Ό μ‹κ°„μ„ μ μ•½ν•κΈ° μ„ν•΄μ„ κΈ°μ΅΄μ μ„Έμ…μ„ μ¬ν™μ©ν•κ² λλ”λ° μ΄ λ• μ‚¬μ©ν•  μ—°κ²°μ— λ€ν• μ‹λ³„μλ¥Ό μ„λ²„ μΈ΅μΌλ΅ μ „μ†΅ν•λ‹¤.

### 2λ‹¨κ³„: Server Hello
μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² μΈμ‚¬!
λλ¤ν• λ°μ΄ν„°("hello")μ™€ μ§€μ› κ°€λ¥ν• μ•”νΈν™” λ°©μ‹, `CAμ—μ„ λ°κΈ‰λ°›μ€ μΈμ¦μ„`λ¥Ό μ „λ‹¬

### 3λ‹¨κ³„: Client μ „μμ„λ…, μ„μ‹ ν‚¤ μƒμ„±
ν΄λΌμ΄μ–ΈνΈμ— λ‚΄μ¥λ CAμ κ³µκ°ν‚¤λ¥Ό μ΄μ©ν•΄μ„ μΈμ¦μ„λ¥Ό λ³µνΈν™”ν•μ—¬ μ„λ²„μ μ •λ³΄μ™€ μ„λ²„μ κ³µκ° ν‚¤λ¥Ό μ–»λ”λ‹¤.
λ³µνΈν™”μ— μ„±κ³µν–λ‹¤λ©΄ μΈμ¦μ„λ” CAμ κ°μΈν‚¤λ΅ μ•”νΈν™”λ λ¬Έμ„μ„μ΄ μ•”μ‹μ μΌλ΅ λ³΄μ¦λ κ²ƒμ΄λ‹¤.
μ¦‰, μ‹ λΆ°ν•  μ μλ” μ„λ²„μ„μ΄ μ¦λ…λ¨

κ·Έλ¦¬κ³  1-2 κ³Όμ •μ—μ„ κµν™ν• λλ¤ λ°μ΄ν„° "hi"μ™€ "hello"λ¥Ό μ΅°ν•©ν•μ—¬ `pre master secret(μ„μ‹ ν‚¤)`λ¥Ό μƒμ„±ν•λ‹¤.

### 4λ‹¨κ³„: Client μ„μ‹ ν‚¤ μ „λ‹¬
`pre master secret ν‚¤`λ” μ΄ν›„ λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›μ„ λ• μ•”νΈν™”λ¥Ό μ„ν•΄ μ‚¬μ© λ  ν‚¤μ΄λ―€λ΅ μ  3μμ—κ² **μ λ€ λ…Έμ¶λμ–΄μ„λ” μ•λλ‹¤**.
λ•λ¬Έμ— μ΄ ν‚¤λ¥Ό κ³µκ°ν‚¤ λ°©μ‹μΌλ΅ κµν™ν•λ‹¤.
3λ‹¨κ³„μ—μ„ μ–»μ€ μ„λ²„μ κ³µκ°ν‚¤λ΅ `pre master secret ν‚¤`λ¥Ό μ•”νΈν™” ν•μ—¬ μ „μ†΅ν•λ‹¤.

### 5λ‹¨κ³„: Server μ„μ‹ ν‚¤ λ³µνΈν™”
μ„λ²„λ” μμ‹ μ κ°μΈν‚¤λ΅ μ•”νΈν™” λ `pre master secret ν‚¤`λ¥Ό λ³µν™”ν™” ν•μ—¬ ν‚¤λ¥Ό μ–»λ”λ‹¤.
μ΄λ΅μ„ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°€ λ¨λ‘ κ°™μ€ ν‚¤λ¥Ό κ°€μ§€κ² λλ‹¤.

### 6λ‹¨κ³„: Client, Server κ°μ μ„Έμ… ν‚¤ μƒμ„±
ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ” μΌλ ¨μ κ³Όμ •μ„ κ±°μ³ `pre master secret` κ°’μ„ `master secret` κ°’μΌλ΅ λ§λ“ λ‹¤.
`master secret`λ” `session key`λ¥Ό μƒμ„±ν•λ”λ° μ΄ `session key` κ°’μ„ μ΄μ©ν•΄μ„ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈλ” λ°μ΄ν„°λ¥Ό λ€μΉ­ν‚¤ λ°©μ‹μΌλ΅ μ•”νΈν™” ν• ν›„μ— μ£Όκ³  λ°›λ”λ‹¤

ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ” ν•Έλ“μ‰μ΄ν¬ λ‹¨κ³„μ μΆ…λ£λ¥Ό μ„λ΅μ—κ² μ•λ¦°λ‹¤.

## λ€μΉ­ν‚¤μ™€ κ³µκ°ν‚¤λ¥Ό μ΅°ν•©ν•΄μ„ μ‚¬μ©ν•λ” μ΄μ ?
κ³µκ° ν‚¤ μ•”νΈν™” λ°©μ‹μ€ λ³΄μ•μ€ ν™•μ‹¤ν•μ§€λ§, λ³µμ΅ν• μ—°μ‚°κ³Ό λ§μ€ μ‹κ°„μ„ μ†λ¨ν•λ‹¤.
λ§μ•½ κ³µκ°ν‚¤λ¥Ό κ·Έλ€λ΅ μ‚¬μ©ν•λ©΄ λ§μ€ μ ‘μ†μ΄ λ°λ¦¬λ” μ„λ²„λ” λ§¤μ° ν° λΉ„μ©μ„ μ§€λ¶ν•΄μ•Ό ν•λ‹¤.

λ°λ€λ΅, λ€μΉ­ν‚¤ μ•”νΈν™” λ°©μ‹μ€ λ€μΉ­ν‚¤λ¥Ό μƒλ€μ—κ² μ „μ†΅ν•΄μ•Ό ν•λ”λ°, μ•”νΈν™”κ°€ λμ§€ μ•μ€ μΈν„°λ„·μ„ ν†µν•΄μ„ ν‚¤λ¥Ό μ „μ†΅ν•λ” κ²ƒμ€ μ„ν—ν•λ‹¤.

κ·Έλμ„ μ†λ„λ” λλ¦¬μ§€λ§ λ°μ΄ν„°λ¥Ό μ•μ „ν•κ² μ£Όκ³  λ°›μ„ μ μλ” κ³µκ°ν‚¤ λ°©μ‹μΌλ΅ λ€μΉ­ν‚¤λ¥Ό μ•”νΈν™”ν•κ³ , μ‹¤μ  λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›μ„ λ•λ” λ€μΉ­ν‚¤λ¥Ό μ΄μ©ν•΄μ„ λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›λ” κ²ƒμ΄λ‹¤.


>Reference <br></br>
>[RAON CTF - WEB Essential](https://raonctf.com/essential/study/web/cryptography) <br></br>
>[HTTPS (HTTP Secure)](https://velog.io/@wlwl99/HTTPS) <br></br>
>[HTTPSμ™€ SSL μΈμ¦μ„](https://opentutorials.org/course/228/4894) <br></br>
>[κ·Έλ¦ΌμΌλ΅ μ‰½κ² λ³΄λ” HTTPS, SSL, TLS](https://brunch.co.kr/@swimjiy/47) <br></br>